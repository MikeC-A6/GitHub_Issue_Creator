DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "You are an expert at creating detailed GitHub issues.\nYour goal is to gather relevant context from the repository and create a well-structured issue.\nFollow these steps:\n1. Analyze the user's request\n2. Search the repository for relevant context\n3. Read specific files if needed\n4. Create a detailed issue with the gathered context"}, {'role': 'user', 'content': 'I want the user to be able to select from subdirectories include or exclude once the analysis has been run.'}], 'model': 'gpt-4', 'tool_choice': 'auto', 'tools': [{'type': 'function', 'function': {'name': 'search_repository', 'description': 'Search through repository files and code to gather context about a specific topic or area', 'parameters': {'type': 'object', 'properties': {'query': {'type': 'string', 'description': 'Search query to find relevant files and code'}, 'file_patterns': {'type': 'array', 'items': {'type': 'string'}, 'description': 'Optional file patterns to filter search results', 'default': []}}, 'required': ['query']}}}, {'type': 'function', 'function': {'name': 'read_file', 'description': 'Read contents of a specific file from the repository', 'parameters': {'type': 'object', 'properties': {'file_path': {'type': 'string', 'description': 'Path to the file in the repository'}}, 'required': ['file_path']}}}, {'type': 'function', 'function': {'name': 'create_github_issue', 'description': 'Create a new GitHub issue with the specified details', 'parameters': {'type': 'object', 'properties': {'title': {'type': 'string', 'description': 'Issue title'}, 'body': {'type': 'string', 'description': 'Detailed issue description with gathered context'}, 'labels': {'type': 'array', 'items': {'type': 'string'}, 'description': 'Optional labels to apply to the issue', 'default': []}}, 'required': ['title', 'body']}}}]}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb324e2dd50>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7fb324ecfb60> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7fb324405090>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 30 Jan 2025 20:36:43 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-it1rjsnvsxprd3wbxr1oqmpg'), (b'openai-processing-ms', b'6293'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9872'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'768ms'), (b'x-request-id', b'req_a981aca67d0dc6c52490894caaf1026f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=0xEel1fzOWwOHuB.dlqgWeRcQ9mRBsuTb6xBkuSRf7s-1738269403-1.0.1.1-OcwvN4tw25Az_rvPDm3B3PkxaRnCcX7RI80pKfn1h03Fp1qBfemdExEMuDoTfsNyd5Q_CF9Bih9Tnu9IVm_Dog; path=/; expires=Thu, 30-Jan-25 21:06:43 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=V3sP3xyKxc6ABJUCLEDBX2RR86iePvsixjAScO_L49A-1738269403415-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'90a441539c28ead8-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 30 Jan 2025 20:36:43 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-it1rjsnvsxprd3wbxr1oqmpg'), ('openai-processing-ms', '6293'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9872'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '768ms'), ('x-request-id', 'req_a981aca67d0dc6c52490894caaf1026f'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=0xEel1fzOWwOHuB.dlqgWeRcQ9mRBsuTb6xBkuSRf7s-1738269403-1.0.1.1-OcwvN4tw25Az_rvPDm3B3PkxaRnCcX7RI80pKfn1h03Fp1qBfemdExEMuDoTfsNyd5Q_CF9Bih9Tnu9IVm_Dog; path=/; expires=Thu, 30-Jan-25 21:06:43 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=V3sP3xyKxc6ABJUCLEDBX2RR86iePvsixjAScO_L49A-1738269403415-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '90a441539c28ead8-ORD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_a981aca67d0dc6c52490894caaf1026f
ERROR:GitHubIssueAgent:Error executing tool unknown: 'ChatCompletionMessageToolCall' object is not subscriptable